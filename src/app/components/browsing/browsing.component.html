
<!-- SEARCH BAR -->
<app-search class="searchBar" [query]="this.dfltQuery" [category]="this.dfltCategory"></app-search>

<div class="browse row">


  <!-- FILTERS -->
  <div class="filters column" (keyup.enter)="submitFilters()">

    <!-- BUY NOW -->
    <div class="buyNow row">

      <mat-checkbox class="checkBox" [(ngModel)]="this.dfltBuyNow" >
        <span class="buyNowText">Buy Now</span>
      </mat-checkbox>

    </div>

    <!-- PRICE RANGE -->
    <div class="priceRange column">

      <!-- LABEL -->
      <label for="range" class="_label">Price Range</label>

      <!-- RANGE -->
      <div id="range" class="range row" [formGroup]="priceRangeForm">

        <!-- MIN PRICE -->
        <input class="minPrice" formControlName="minPrice" placeholder="0 $">

        <!-- MAX PRICE -->
        <input class="maxPrice" formControlName="maxPrice" placeholder="1000+ $">
      </div>

    </div>

    <!-- LOCATION -->
    <div class="location column">

      <!-- LABEL -->
      <label for="region" class="_label">Location</label>

      <!-- REGION -->
      <input id="region" class="region" [(ngModel)]="this.location" placeholder="England">
    </div>

    <!-- APPLY FILTERS -->
    <div class="search column">

      <!-- BUTTON -->
      <button type="button" class="btn btn-outline-info searchButton" (click)="submitFilters()">Search</button>

    </div>

  </div>

  <!-- CARDS + PAGINATION -->
  <div class="cardsPagination column">

    <!-- CARDS -->
    <div class="cards column">

      <!-- EACH CARD -->
      <mat-card class="card row" *ngFor="let thumbnail of this.browsingAuctionThumbnails; let i=index">

        <!-- IMAGE GROUP -->
        <div class="cardImage row">
          <!-- IMAGE -->
          <img class="image" (click)="auctionInfo(i)"
               src="http://localhost:8081/media/{{thumbnail.id}}/{{thumbnail.images[imageLinks[i]]}}">
          <!-- NEXT IMAGE -->
          <button class="page-link nextImage fa fa-angle-right" (click)="getNextImage(i)"></button>
          <!-- PREVIOUS IMAGE -->
          <button class="page-link previousImage fa fa-angle-left" (click)="getPreviousImage(i)"></button>
        </div>

        <!-- CARD CONTENT -->
        <div class="cardContent column">

          <!-- NAME -->
          <mat-card-title class="auctionName" (click)="auctionInfo(i)">{{thumbnail.name}}</mat-card-title>

          <!-- HIGHEST BID -->
          <mat-card-subtitle class="highestBid">Highest Bid at {{this.utilService.reformatNumber(thumbnail.highestBid>thumbnail.firstBid
            ? thumbnail.highestBid : thumbnail.firstBid)}} $</mat-card-subtitle>

          <!-- COUNTRY -->
          <mat-card-content class="country">Located in {{thumbnail.country}}!</mat-card-content>

        </div>

      </mat-card>

    </div>

    <!-- PAGINATION -->
    <div class="pagination row">

    <!-- PAGINATION BAR -->
      <div class="paginationBar row">

        <!-- PREVIOUS PAGE BUTTON -->
        <button class="page-link previousPage" (click)="getPreviousPage()" [hidden]="this.totalPages<1"
                [disabled]="this.pageIndex<=1">&laquo;
        </button>

        <!-- PAGE VALUE BUTTON -->
        <div class="page-link pageValue" [hidden]="this.totalPages<1">{{this.pageIndex}}
          / {{this.totalPages}}</div>

        <!-- NEXT PAGE BUTTON -->
        <button class="page-link nextPage" (click)="getNextPage()" [hidden]="this.totalPages<1"
                [disabled]="this.pageIndex>=this.totalPages">
          &raquo;
        </button>


      </div>

    </div>

  </div>


</div>
